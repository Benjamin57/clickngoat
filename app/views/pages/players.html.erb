<div class="container">
  <h1>Best players</h1>
<div class="container-gut" style="background-image:linear-gradient(-225deg, rgba(0,90,146,0.3) 0%, rgba(0,36,61,0.6) 50%), url(<%= image_path "pitch.jpg" %>);">
  <div class="flex-item goalkeeper">
      <% @gks.each do |gk| %>
        <%= link_to player_path(gk), style: "text-decoration:none;" do %>
          <p><%= cl_image_tag gk.photo, style: "border-radius:5px;", size: "100" %> <%= gk.name %></p>
        <% end %>
      <% end %>
  </div>
  <div class="flex-item">
    <% @backs.each do |back| %>
      <%= link_to player_path(back), style: "text-decoration:none;" do %>
      <p><%= cl_image_tag back.photo, style: "border-radius:5px;", size: "100" %>
          <%= back.name %>
          <% array = [] %>
          <% back.reviews.each do |review|  %>
            <% array << review.rating %>
          <% end %>
          <% total = array.sum / back.reviews.count.to_f %>

          <% count = 0 %>
          <% 5.times do %>
            <% if total > count %>
              <i class="fas fa-star"></i>
            <% else %>
              <i class="far fa-star"></i>
            <% end %>
            <% count += 1 %>
          <% end %>
      </p>
      <% end %>
    <% end %>
  </div>
  <div class="flex-item">
    <% @midfielders.each do |midfielder| %>
      <%= link_to player_path(midfielder), style: "text-decoration:none;" do %>
        <p><%= cl_image_tag midfielder.photo, style: "border-radius:5px;", size: "100" %> <%= midfielder.name %></p>
      <% end %>
    <% end %>
    </ul>
  </div>
  <div class="flex-item">
    <% @forwards.each do |forward| %>
      <%= link_to player_path(forward), style: "text-decoration:none;" do %>
        <p><%= cl_image_tag forward.photo, style: "border-radius:5px;", size: "100" %> <%= forward.name %></p>
      <% end %>
    <% end %>
  </div>
</div>
</div>
